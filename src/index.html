<!DOCTYPE html>
<html lang='ru'>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv='X-UA-Compatible' content='ie=edge'>
    <link rel='icon' href='/assets/favicon.ico'>
    
    <title><!-- title --></title>
    <!-- description -->
    
    <script src="https://api-maps.yandex.ru/2.1/?apikey=2e373805-62d6-48f7-9a11-c7d33dd424f2&lang=ru_RU" type="text/javascript"></script>
</head>
<body>
    <div id="app"></div>
    
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-analytics.js";
        import { getMessaging, getToken } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-messaging.js";
        
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyAK8l7m2URB6kFbBzC5iv67W34cuEzPKYc",
          authDomain: "macro-thinker-288611.firebaseapp.com",
          databaseURL: "https://macro-thinker-288611.firebaseio.com",
          projectId: "macro-thinker-288611",
          storageBucket: "macro-thinker-288611.appspot.com",
          messagingSenderId: "989415800368",
          appId: "1:989415800368:web:35373fd752ab60aa3177f5",
          measurementId: "G-YDT84TR2E2"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        
        const messaging = getMessaging();
        
        getToken(messaging, { vapidKey: 'BJmoVaG5ijS0CXc126Y47xmkjxv92stPrkQDfLql5hirvoWvAcy2N4xR1CPKVnCzUVai3ZqkzvVAjOyHGUWhogA' }).then((currentToken) => {
          if (currentToken) {
              console.log( currentToken )
              localStorage.setItem('appToken', currentToken)
            // Send the token to your server and update the UI if necessary
            // ...
          } else {
            // Show permission request UI
            console.log('No registration token available. Request permission to generate one.');
            // ...
          }
        }).catch((err) => {
          console.log('An error occurred while retrieving token. ', err);
          // ...
        });
        
        
      </script>
</body>
</html>